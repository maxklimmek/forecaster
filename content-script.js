(()=>{let e;var t;(t=e||(e={})).TOGGLE_POPUP="TOGGLE_POPUP",t.SHOW_POPUP="SHOW_POPUP",t.HIDE_POPUP="HIDE_POPUP",t.TOGGLE_VERTICAL_POSITION="TOGGLE_VERTICAL_POSITION",t.TOGGLE_HORIZONTAL_POSITION="TOGGLE_HORIZONTAL_POSITION",t.SET_MAX_HEIGHT="SET_MAX_HEIGHT",t.CHECK_INSTALLATION="CHECK_INSTALLATION";const s="__sales_discount_calculator__";function n(e){const t=chrome.runtime.getManifest().version;return e?.source===s&&e?.version===t}const o="_sale_calculator_panel",a="__top",l="__bottom",c="__left",_="__right",i=()=>{if(document.getElementById(o))return document.getElementById(o);const e=document.createElement("iframe");return e.id=o,e.src=chrome.runtime.getURL("index.html"),e.classList.add(a,_),e.title="Sales Calculator",e.setAttribute("aria-label","Sales Calculator"),e},r=()=>{const e=i();e.style.zIndex=((()=>{const e=document.getElementsByTagName("*");let t=2147483647;for(let s=0;s<e.length;s++){const n=parseInt(window.getComputedStyle(e[s]).zIndex,10);t=n>t?n:t}return t})()+1).toString(),document.body.appendChild(e)},O=()=>{const e=i();document.getElementById(o)?.parentElement?.removeChild(e)};chrome.runtime.onMessage.addListener(((t,s,d)=>{if(console.log("content script received message",t),!n(t))return void console.log("Validation failed!!");const{action:I,payload:L}=t;var T;I===e.TOGGLE_POPUP&&(document.getElementById(o)?O():r()),I===e.SHOW_POPUP&&r(),I===e.HIDE_POPUP&&O(),I===e.TOGGLE_VERTICAL_POSITION&&(()=>{const e=i();e.classList.contains(a)?(e.classList.remove(a),e.classList.add(l)):(e.classList.remove(l),e.classList.add(a))})(),I===e.TOGGLE_HORIZONTAL_POSITION&&(()=>{const e=i();e.classList.contains(_)?(e.classList.remove(_),e.classList.add(c)):(e.classList.remove(c),e.classList.add(_))})(),I===e.SET_MAX_HEIGHT&&(T=L,i().style.maxHeight=T+"px"),I===e.CHECK_INSTALLATION&&d("installed")}))})();
//# sourceMappingURL=content-script.js.map
